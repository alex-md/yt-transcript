(this["webpackJsonpyoutube-transcript-tool"]=this["webpackJsonpyoutube-transcript-tool"]||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var s=a(3),r=a.n(s),c=a(10),i=a.n(c),l=a(1);var n=e=>{let{transcript:t,highlightedWords:a=[]}=e;const[r,c]=Object(s.useState)([]);Object(s.useEffect)((()=>{const e=t.split("\n").filter((e=>""!==e.trim())).map((e=>{const t=e.match(/\[([\d:]+)\]/);return{timestamp:t?t[1]:"0:00",text:e.replace(/\[[\d:]+\]\s*/,"").trim()}}));c(e)}),[t]);const i=e=>{if(!a.length)return e;const t=new RegExp(`(${a.join("|")})`,"gi");return e.split(t).map(((e,t)=>a.some((t=>t.toLowerCase()===e.toLowerCase()))?Object(l.jsx)("mark",{className:"bg-warning text-dark px-1 rounded",children:e},t):e))};return Object(l.jsx)("div",{className:"transcript-container",children:0===r.length?Object(l.jsx)("div",{className:"alert alert-info",children:"No transcript content available."}):Object(l.jsx)("div",{className:"list-group",children:r.map(((e,t)=>Object(l.jsxs)("div",{className:"list-group-item list-group-item-action d-flex py-3 border-0 border-bottom",children:[Object(l.jsx)("div",{className:"timestamp badge bg-secondary text-white align-self-start me-3 px-2 py-1 rounded-pill",children:e.timestamp}),Object(l.jsx)("div",{className:"transcript-text flex-grow-1 fw-light",children:i(e.text)})]},t)))})})};const o=e=>/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(e),d=e=>{let t=e.match(/[?&]v=([^&]+)/);return t?t[1]:(t=e.match(/youtu\.be\/([^?&]+)/),t?t[1]:(t=e.match(/embed\/([^/?&]+)/),t?t[1]:null))};var b=e=>{let{videoUrl:t}=e;const a=d(t);return a?Object(l.jsx)("div",{className:"ratio ratio-16x9",children:Object(l.jsx)("iframe",{src:`https://www.youtube.com/embed/${a}?enablejsapi=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Object(l.jsx)("div",{className:"alert alert-warning",children:"Invalid YouTube URL"})},m=a(28);const j=e=>{let t="";try{const a=new DOMParser,s=a.parseFromString(e,"text/xml").getElementsByTagName("p");for(let e of s){const a=e.getAttribute("begin"),s=e.textContent;if(a&&s){const e=parseFloat(a),r=Math.floor(e/60),c=Math.floor(e%60);t+=`[${`${r.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}] ${s.trim()}\n`}}}catch(a){console.error("Error parsing transcript:",a)}return t.trim()||"No transcript available for this video."};var h=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,i]=Object(s.useState)(""),[h,p]=Object(s.useState)(!1),[u,x]=Object(s.useState)(""),[g,O]=Object(s.useState)([]);return Object(l.jsx)("div",{className:"container py-4",children:Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-12 col-lg-10",children:Object(l.jsxs)("div",{className:"card shadow-lg border-0 rounded-3 mb-4",children:[Object(l.jsx)("div",{className:"card-header bg-primary text-white text-center p-3",children:Object(l.jsxs)("h1",{className:"display-5 fw-bold",children:[Object(l.jsx)("i",{className:"bi bi-youtube me-2"}),"YouTube Transcript Tool"]})}),Object(l.jsxs)("div",{className:"card-body p-4",children:[Object(l.jsxs)("div",{className:"mb-4",children:[Object(l.jsxs)("div",{className:"input-group mb-3 shadow-sm",children:[Object(l.jsx)("span",{className:"input-group-text bg-light",children:Object(l.jsx)("i",{className:"bi bi-link-45deg"})}),Object(l.jsx)("input",{type:"text",className:"form-control form-control-lg",value:e,onChange:e=>{t(e.target.value)},placeholder:"Enter YouTube video URL","aria-label":"YouTube URL"}),Object(l.jsx)("button",{className:`btn ${h?"btn-secondary":"btn-primary"} btn-lg`,onClick:async()=>{if(o(e)){p(!0),i("");try{const t=await(async e=>{const t=d(e);if(!t)throw new Error("Invalid YouTube URL");try{const e=await m.a.get("https://www.googleapis.com/youtube/v3/captions/download",{params:{videoId:t,key:"AIzaSyAt8PgT4NitpGvgiuKNvl4CNbvQrNPdcQI",tfmt:"ttml",lang:"en"},headers:{Accept:"application/json"}});return e.data?j(e.data):"No transcript available for this video."}catch(c){var a,s;return console.error("Error fetching transcript:",c),403===(null===(a=c.response)||void 0===a?void 0:a.status)?"Error: Unable to access transcript. Please ensure you have configured your YouTube API key.":404===(null===(s=c.response)||void 0===s?void 0:s.status)?"No transcript available for this video.":"Error fetching transcript. Please try again."}})(e);r(t),i("")}catch(t){i("Failed to fetch transcript. Please try again."),console.error(t)}finally{p(!1)}}else i("Invalid YouTube URL. Please enter a valid URL.")},disabled:h,children:h?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Loading..."]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("i",{className:"bi bi-file-text me-2"})," Get Transcript"]})})]}),c&&Object(l.jsxs)("div",{className:"alert alert-danger mt-3",role:"alert",children:[Object(l.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),c]})]}),a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"mb-4",children:Object(l.jsxs)("div",{className:"input-group shadow-sm",children:[Object(l.jsx)("span",{className:"input-group-text bg-light",children:Object(l.jsx)("i",{className:"bi bi-search"})}),Object(l.jsx)("input",{type:"text",className:"form-control",value:u,onChange:e=>{x(e.target.value)},placeholder:"Search in transcript","aria-label":"Search term"}),Object(l.jsxs)("button",{className:"btn btn-outline-secondary",onClick:()=>{u.trim()?O(u.split(/\s+/).filter((e=>e.length>0))):O([])},type:"button",children:[Object(l.jsx)("i",{className:"bi bi-filter"})," Filter"]})]})}),Object(l.jsxs)("div",{className:"card shadow-sm mb-4",children:[Object(l.jsxs)("div",{className:"card-header bg-light d-flex align-items-center",children:[Object(l.jsx)("i",{className:"bi bi-play-btn me-2"}),Object(l.jsx)("h2",{className:"h5 mb-0",children:"Video Player"})]}),Object(l.jsx)("div",{className:"card-body p-0",children:Object(l.jsx)(b,{videoUrl:e})})]}),Object(l.jsxs)("div",{className:"card shadow-sm",children:[Object(l.jsxs)("div",{className:"card-header bg-light d-flex align-items-center",children:[Object(l.jsx)("i",{className:"bi bi-chat-quote me-2"}),Object(l.jsx)("h2",{className:"h5 mb-0",children:"Transcript"}),Object(l.jsx)("span",{className:"badge bg-primary ms-2",children:g.length>0?"Filtered":"Full"})]}),Object(l.jsx)("div",{className:"card-body",children:Object(l.jsx)(n,{transcript:a,highlightedWords:g})})]})]})]})]})})})})};a(22),a(23),a(24),a(25);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.efa510d5.chunk.js.map