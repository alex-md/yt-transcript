{"version":3,"sources":["components/TranscriptDisplay.tsx","utils/urlValidator.ts","components/YouTubePlayer.tsx","services/transcriptService.js","components/App.tsx","index.tsx"],"names":["TranscriptDisplay","_ref","transcript","highlightedWords","segments","setSegments","useState","useEffect","parsedSegments","split","filter","line","trim","map","timestampMatch","match","timestamp","text","replace","highlightText","length","regex","RegExp","join","part","index","some","word","toLowerCase","_jsx","className","children","segment","_jsxs","validateYouTubeUrl","url","test","extractVideoId","YouTubePlayer","videoUrl","videoId","src","title","frameBorder","allow","allowFullScreen","parseTranscript","data","parser","DOMParser","paragraphs","parseFromString","getElementsByTagName","p","begin","getAttribute","textContent","timeInSeconds","parseFloat","minutes","Math","floor","seconds","toString","padStart","error","console","App","setVideoUrl","setTranscript","setError","loading","setLoading","searchTerm","setSearchTerm","setHighlightedWords","type","value","onChange","event","target","placeholder","onClick","async","fetchedTranscript","Error","response","axios","get","params","key","process","tfmt","lang","headers","_error$response","_error$response2","status","fetchTranscript","err","disabled","_Fragment","role","handleSearch","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"iNAiEeA,MArD6CC,IAA4C,IAA3C,WAAEC,EAAU,iBAAEC,EAAmB,IAAIF,EAC9F,MAAOG,EAAUC,GAAeC,mBAA8B,IAE9DC,qBAAU,KAEN,MAAMC,EAAiBN,EAClBO,MAAM,MACNC,QAAOC,GAAwB,KAAhBA,EAAKC,SACpBC,KAAIF,IACD,MAAMG,EAAiBH,EAAKI,MAAM,gBAGlC,MAAO,CAAEC,UAFSF,EAAiBA,EAAe,GAAK,OAEnCG,KADPN,EAAKO,QAAQ,gBAAiB,IAAIN,OACrB,IAGlCP,EAAYG,EAAe,GAC5B,CAACN,IAEJ,MAAMiB,EAAiBF,IACnB,IAAKd,EAAiBiB,OAAQ,OAAOH,EAErC,MAAMI,EAAQ,IAAIC,OAAO,IAAInB,EAAiBoB,KAAK,QAAS,MAG5D,OAFcN,EAAKR,MAAMY,GAEZR,KAAI,CAACW,EAAMC,IACpBtB,EAAiBuB,MAAKC,GAAQA,EAAKC,gBAAkBJ,EAAKI,gBACpDC,cAAA,QAAkBC,UAAU,oCAAmCC,SAAEP,GAAtDC,GACXD,GACT,EAGL,OACIK,cAAA,OAAKC,UAAU,uBAAsBC,SACZ,IAApB3B,EAASgB,OACNS,cAAA,OAAKC,UAAU,mBAAkBC,SAAC,qCAElCF,cAAA,OAAKC,UAAU,aAAYC,SACtB3B,EAASS,KAAI,CAACmB,EAASP,IACpBQ,eAAA,OAAiBH,UAAU,4EAA2EC,SAAA,CAClGF,cAAA,OAAKC,UAAU,uFAAsFC,SAChGC,EAAQhB,YAEba,cAAA,OAAKC,UAAU,uCAAsCC,SAChDZ,EAAca,EAAQf,UALrBQ,QAWpB,EC7DP,MAKMS,EALqBC,GACJ,wDACDC,KAAKD,GAKrBE,EAAkBF,IAE3B,IAAIpB,EAAQoB,EAAIpB,MAAM,iBACtB,OAAIA,EAAcA,EAAM,IAGxBA,EAAQoB,EAAIpB,MAAM,uBACdA,EAAcA,EAAM,IAGxBA,EAAQoB,EAAIpB,MAAM,oBACdA,EAAcA,EAAM,GAEjB,MAAI,ECOAuB,MApBqCrC,IAAmB,IAAlB,SAAEsC,GAAUtC,EAC7D,MAAMuC,EAAUH,EAAeE,GAE/B,OAAKC,EAKDX,cAAA,OAAKC,UAAU,mBAAkBC,SAC7BF,cAAA,UACIY,IAAK,iCAAiCD,kBACtCE,MAAM,uBACNC,YAAY,IACZC,MAAM,2FACNC,iBAAe,MAVhBhB,cAAA,OAAKC,UAAU,sBAAqBC,SAAC,uBAYtC,E,QCnBd,MAwCMe,EAAkBC,IACpB,IAAI7C,EAAa,GACjB,IAEI,MAAM8C,EAAS,IAAIC,UAEbC,EADSF,EAAOG,gBAAgBJ,EAAM,YAClBK,qBAAqB,KAE/C,IAAK,IAAIC,KAAKH,EAAY,CACtB,MAAMI,EAAQD,EAAEE,aAAa,SACvBtC,EAAOoC,EAAEG,YACf,GAAIF,GAASrC,EAAM,CACf,MAAMwC,EAAgBC,WAAWJ,GAC3BK,EAAUC,KAAKC,MAAMJ,EAAgB,IACrCK,EAAUF,KAAKC,MAAMJ,EAAgB,IAE3CvD,GAAc,IADI,GAAGyD,EAAQI,WAAWC,SAAS,EAAG,QAAQF,EAAQC,WAAWC,SAAS,EAAG,WAC3D/C,EAAKL,UACzC,CACJ,CACJ,CAAE,MAAOqD,GACLC,QAAQD,MAAM,4BAA6BA,EAC/C,CACA,OAAO/D,EAAWU,QAAU,yCAAyC,EC6F1DuD,MAzJOA,KAClB,MAAO5B,EAAU6B,GAAe9D,mBAAiB,KAC1CJ,EAAYmE,GAAiB/D,mBAAiB,KAC9C2D,EAAOK,GAAYhE,mBAAiB,KACpCiE,EAASC,GAAclE,oBAAkB,IACzCmE,EAAYC,GAAiBpE,mBAAiB,KAC9CH,EAAkBwE,GAAuBrE,mBAAmB,IAsCnE,OACIuB,cAAA,OAAKC,UAAU,iBAAgBC,SAC3BF,cAAA,OAAKC,UAAU,6BAA4BC,SACvCF,cAAA,OAAKC,UAAU,mBAAkBC,SAC7BE,eAAA,OAAKH,UAAU,yCAAwCC,SAAA,CACnDF,cAAA,OAAKC,UAAU,oDAAmDC,SAC9DE,eAAA,MAAIH,UAAU,oBAAmBC,SAAA,CAC7BF,cAAA,KAAGC,UAAU,uBAAyB,+BAI9CG,eAAA,OAAKH,UAAU,gBAAeC,SAAA,CAC1BE,eAAA,OAAKH,UAAU,OAAMC,SAAA,CACjBE,eAAA,OAAKH,UAAU,6BAA4BC,SAAA,CACvCF,cAAA,QAAMC,UAAU,4BAA2BC,SACvCF,cAAA,KAAGC,UAAU,uBAEjBD,cAAA,SACI+C,KAAK,OACL9C,UAAU,+BACV+C,MAAOtC,EACPuC,SAzDXC,IACrBX,EAAYW,EAAMC,OAAOH,MAAM,EAyDCI,YAAY,0BACZ,aAAW,gBAEfpD,cAAA,UACIC,UAAW,OAAOyC,EAAU,gBAAkB,uBAC9CW,QA/CNC,UAC1B,GAAIjD,EAAmBK,GAAW,CAC9BiC,GAAW,GACXF,EAAS,IAET,IACI,MAAMc,OD9BSD,WAC3B,MAAM3C,EAAUH,EAAeE,GAC/B,IAAKC,EACD,MAAM,IAAI6C,MAAM,uBAGpB,IAEI,MAAMC,QAAiBC,IAAMC,IACzB,0DAA2D,CAC3DC,OAAQ,CACJjD,QAASA,EACTkD,IAdQC,0CAeRC,KAAM,OACNC,KAAM,MAEVC,QAAS,CACL,OAAU,sBAKlB,OAAKR,EAASvC,KAIPD,EAAgBwC,EAASvC,MAHrB,yCAIf,CAAE,MAAOkB,GAAQ,IAAD8B,EAAAC,EAEZ,OADA9B,QAAQD,MAAM,6BAA8BA,GACb,OAAb,QAAd8B,EAAA9B,EAAMqB,gBAAQ,IAAAS,OAAA,EAAdA,EAAgBE,QACT,8FAC2B,OAAb,QAAdD,EAAA/B,EAAMqB,gBAAQ,IAAAU,OAAA,EAAdA,EAAgBC,QAChB,0CAEJ,8CACX,GCL4CC,CAAgB3D,GAChD8B,EAAce,GACdd,EAAS,GACb,CAAE,MAAO6B,GACL7B,EAAS,iDACTJ,QAAQD,MAAMkC,EAClB,CAAC,QACG3B,GAAW,EACf,CACJ,MACIF,EAAS,iDACb,EA+BgC8B,SAAU7B,EAAQxC,SAEjBwC,EACGtC,eAAAoE,WAAA,CAAAtE,SAAA,CACIF,cAAA,QAAMC,UAAU,wCAAwCwE,KAAK,SAAS,cAAY,SAAc,gBAGpGrE,eAAAoE,WAAA,CAAAtE,SAAA,CACIF,cAAA,KAAGC,UAAU,yBAA2B,0BAKvDmC,GACGhC,eAAA,OAAKH,UAAU,0BAA0BwE,KAAK,QAAOvE,SAAA,CACjDF,cAAA,KAAGC,UAAU,yCACZmC,QAKZ/D,GACG+B,eAAAoE,WAAA,CAAAtE,SAAA,CACIF,cAAA,OAAKC,UAAU,OAAMC,SACjBE,eAAA,OAAKH,UAAU,wBAAuBC,SAAA,CAClCF,cAAA,QAAMC,UAAU,4BAA2BC,SACvCF,cAAA,KAAGC,UAAU,mBAEjBD,cAAA,SACI+C,KAAK,OACL9C,UAAU,eACV+C,MAAOJ,EACPK,SA5FhBC,IACxBL,EAAcK,EAAMC,OAAOH,MAAM,EA4FOI,YAAY,uBACZ,aAAW,gBAEfhD,eAAA,UACIH,UAAU,4BACVoD,QA9FvBqB,KACb9B,EAAW7D,OACX+D,EAAoBF,EAAWhE,MAAM,OAAOC,QAAOiB,GAAQA,EAAKP,OAAS,KAEzEuD,EAAoB,GACxB,EA0FwCC,KAAK,SAAQ7C,SAAA,CAEbF,cAAA,KAAGC,UAAU,iBAAmB,kBAK5CG,eAAA,OAAKH,UAAU,sBAAqBC,SAAA,CAChCE,eAAA,OAAKH,UAAU,iDAAgDC,SAAA,CAC3DF,cAAA,KAAGC,UAAU,wBACbD,cAAA,MAAIC,UAAU,UAASC,SAAC,oBAE5BF,cAAA,OAAKC,UAAU,gBAAeC,SAC1BF,cAACS,EAAa,CAACC,SAAUA,SAIjCN,eAAA,OAAKH,UAAU,iBAAgBC,SAAA,CAC3BE,eAAA,OAAKH,UAAU,iDAAgDC,SAAA,CAC3DF,cAAA,KAAGC,UAAU,0BACbD,cAAA,MAAIC,UAAU,UAASC,SAAC,eACxBF,cAAA,QAAMC,UAAU,wBAAuBC,SAClC5B,EAAiBiB,OAAS,EAAI,WAAa,YAGpDS,cAAA,OAAKC,UAAU,YAAWC,SACtBF,cAAC7B,EAAiB,CACdE,WAAYA,EACZC,iBAAkBA,uBAUpD,E,wBChJdqG,IAASC,OACP5E,cAAC6E,IAAMC,WAAU,CAAA5E,SACfF,cAACsC,EAAG,MAENyC,SAASC,eAAe,Q","file":"static/js/main.efa510d5.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\n\ninterface TranscriptDisplayProps {\n    transcript: string;\n    highlightedWords?: string[];\n}\n\ninterface TranscriptSegment {\n    text: string;\n    timestamp: string;\n}\n\nconst TranscriptDisplay: React.FC<TranscriptDisplayProps> = ({ transcript, highlightedWords = [] }) => {\n    const [segments, setSegments] = useState<TranscriptSegment[]>([]);\n\n    useEffect(() => {\n        // Parse the transcript string into segments\n        const parsedSegments = transcript\n            .split('\\n')\n            .filter(line => line.trim() !== '')\n            .map(line => {\n                const timestampMatch = line.match(/\\[([\\d:]+)\\]/);\n                const timestamp = timestampMatch ? timestampMatch[1] : '0:00';\n                const text = line.replace(/\\[[\\d:]+\\]\\s*/, '').trim();\n                return { timestamp, text };\n            });\n\n        setSegments(parsedSegments);\n    }, [transcript]);\n\n    const highlightText = (text: string) => {\n        if (!highlightedWords.length) return text;\n\n        const regex = new RegExp(`(${highlightedWords.join('|')})`, 'gi');\n        const parts = text.split(regex);\n\n        return parts.map((part, index) =>\n            highlightedWords.some(word => word.toLowerCase() === part.toLowerCase())\n                ? <mark key={index} className=\"bg-warning text-dark px-1 rounded\">{part}</mark>\n                : part\n        );\n    };\n\n    return (\n        <div className=\"transcript-container\">\n            {segments.length === 0 ? (\n                <div className=\"alert alert-info\">No transcript content available.</div>\n            ) : (\n                <div className=\"list-group\">\n                    {segments.map((segment, index) => (\n                        <div key={index} className=\"list-group-item list-group-item-action d-flex py-3 border-0 border-bottom\">\n                            <div className=\"timestamp badge bg-secondary text-white align-self-start me-3 px-2 py-1 rounded-pill\">\n                                {segment.timestamp}\n                            </div>\n                            <div className=\"transcript-text flex-grow-1 fw-light\">\n                                {highlightText(segment.text)}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default TranscriptDisplay;\n","export const isValidYouTubeUrl = (url: string): boolean => {\n    const youtubeUrlPattern = /^(https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.?be)\\/.+$/;\n    return youtubeUrlPattern.test(url);\n};\n\nexport const validateYouTubeUrl = isValidYouTubeUrl;\n\nexport const extractVideoId = (url: string): string | null => {\n    // For regular YouTube URLs (youtube.com)\n    let match = url.match(/[?&]v=([^&]+)/);\n    if (match) return match[1];\n\n    // For shortened YouTube URLs (youtu.be)\n    match = url.match(/youtu\\.be\\/([^?&]+)/);\n    if (match) return match[1];\n\n    // For embed URLs\n    match = url.match(/embed\\/([^/?&]+)/);\n    if (match) return match[1];\n\n    return null;\n};\n","import React from 'react';\nimport { extractVideoId } from '../utils/urlValidator';\n\ninterface YouTubePlayerProps {\n    videoUrl: string;\n}\n\nconst YouTubePlayer: React.FC<YouTubePlayerProps> = ({ videoUrl }) => {\n    const videoId = extractVideoId(videoUrl);\n\n    if (!videoId) {\n        return <div className=\"alert alert-warning\">Invalid YouTube URL</div>;\n    }\n\n    return (\n        <div className=\"ratio ratio-16x9\">\n            <iframe\n                src={`https://www.youtube.com/embed/${videoId}?enablejsapi=1`}\n                title=\"YouTube video player\"\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n            ></iframe>\n        </div>\n    );\n};\n\nexport default YouTubePlayer;\n","import axios from \"axios\"\nimport { extractVideoId } from \"../utils/urlValidator\"\n\n// Use environment variable for API key\nconst YOUTUBE_API_KEY = process.env.REACT_APP_YOUTUBE_API_KEY\n\nexport const fetchTranscript = async videoUrl => {\n    const videoId = extractVideoId(videoUrl)\n    if (!videoId) {\n        throw new Error(\"Invalid YouTube URL\")\n    }\n\n    try {\n        // Get the transcript using the new YouTube Data API v3 endpoint\n        const response = await axios.get(\n            `https://www.googleapis.com/youtube/v3/captions/download`, {\n            params: {\n                videoId: videoId,\n                key: YOUTUBE_API_KEY,\n                tfmt: 'ttml', // Request transcript in TTML format\n                lang: 'en' // Request English captions\n            },\n            headers: {\n                'Accept': 'application/json'\n            }\n        }\n        )\n\n        if (!response.data) {\n            return \"No transcript available for this video.\"\n        }\n\n        return parseTranscript(response.data)\n    } catch (error) {\n        console.error('Error fetching transcript:', error)\n        if (error.response?.status === 403) {\n            return \"Error: Unable to access transcript. Please ensure you have configured your YouTube API key.\"\n        } else if (error.response?.status === 404) {\n            return \"No transcript available for this video.\"\n        }\n        return \"Error fetching transcript. Please try again.\"\n    }\n}\n\nconst parseTranscript = data => {\n    let transcript = \"\"\n    try {\n        // Parse TTML format\n        const parser = new DOMParser()\n        const xmlDoc = parser.parseFromString(data, \"text/xml\")\n        const paragraphs = xmlDoc.getElementsByTagName(\"p\")\n\n        for (let p of paragraphs) {\n            const begin = p.getAttribute(\"begin\")\n            const text = p.textContent\n            if (begin && text) {\n                const timeInSeconds = parseFloat(begin)\n                const minutes = Math.floor(timeInSeconds / 60)\n                const seconds = Math.floor(timeInSeconds % 60)\n                const timestamp = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n                transcript += `[${timestamp}] ${text.trim()}\\n`\n            }\n        }\n    } catch (error) {\n        console.error('Error parsing transcript:', error)\n    }\n    return transcript.trim() || \"No transcript available for this video.\"\n}\n","import React, { useState } from 'react';\nimport TranscriptDisplay from './TranscriptDisplay';\nimport YouTubePlayer from './YouTubePlayer';\nimport { validateYouTubeUrl } from '../utils/urlValidator';\nimport { fetchTranscript } from '../services/transcriptService';\n\nconst App: React.FC = () => {\n    const [videoUrl, setVideoUrl] = useState<string>('');\n    const [transcript, setTranscript] = useState<string>('');\n    const [error, setError] = useState<string>('');\n    const [loading, setLoading] = useState<boolean>(false);\n    const [searchTerm, setSearchTerm] = useState<string>('');\n    const [highlightedWords, setHighlightedWords] = useState<string[]>([]);\n\n    const handleUrlChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setVideoUrl(event.target.value);\n    };\n\n    const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setSearchTerm(event.target.value);\n    };\n\n    const handleSearch = () => {\n        if (searchTerm.trim()) {\n            setHighlightedWords(searchTerm.split(/\\s+/).filter(word => word.length > 0));\n        } else {\n            setHighlightedWords([]);\n        }\n    };\n\n    const handleFetchTranscript = async () => {\n        if (validateYouTubeUrl(videoUrl)) {\n            setLoading(true);\n            setError('');\n\n            try {\n                const fetchedTranscript = await fetchTranscript(videoUrl);\n                setTranscript(fetchedTranscript);\n                setError('');\n            } catch (err) {\n                setError('Failed to fetch transcript. Please try again.');\n                console.error(err);\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            setError('Invalid YouTube URL. Please enter a valid URL.');\n        }\n    };\n\n    return (\n        <div className=\"container py-4\">\n            <div className=\"row justify-content-center\">\n                <div className=\"col-12 col-lg-10\">\n                    <div className=\"card shadow-lg border-0 rounded-3 mb-4\">\n                        <div className=\"card-header bg-primary text-white text-center p-3\">\n                            <h1 className=\"display-5 fw-bold\">\n                                <i className=\"bi bi-youtube me-2\"></i>\n                                YouTube Transcript Tool\n                            </h1>\n                        </div>\n                        <div className=\"card-body p-4\">\n                            <div className=\"mb-4\">\n                                <div className=\"input-group mb-3 shadow-sm\">\n                                    <span className=\"input-group-text bg-light\">\n                                        <i className=\"bi bi-link-45deg\"></i>\n                                    </span>\n                                    <input\n                                        type=\"text\"\n                                        className=\"form-control form-control-lg\"\n                                        value={videoUrl}\n                                        onChange={handleUrlChange}\n                                        placeholder=\"Enter YouTube video URL\"\n                                        aria-label=\"YouTube URL\"\n                                    />\n                                    <button\n                                        className={`btn ${loading ? 'btn-secondary' : 'btn-primary'} btn-lg`}\n                                        onClick={handleFetchTranscript}\n                                        disabled={loading}\n                                    >\n                                        {loading ?\n                                            <>\n                                                <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                                                Loading...\n                                            </> :\n                                            <>\n                                                <i className=\"bi bi-file-text me-2\"></i> Get Transcript\n                                            </>\n                                        }\n                                    </button>\n                                </div>\n                                {error && (\n                                    <div className=\"alert alert-danger mt-3\" role=\"alert\">\n                                        <i className=\"bi bi-exclamation-triangle-fill me-2\"></i>\n                                        {error}\n                                    </div>\n                                )}\n                            </div>\n\n                            {transcript && (\n                                <>\n                                    <div className=\"mb-4\">\n                                        <div className=\"input-group shadow-sm\">\n                                            <span className=\"input-group-text bg-light\">\n                                                <i className=\"bi bi-search\"></i>\n                                            </span>\n                                            <input\n                                                type=\"text\"\n                                                className=\"form-control\"\n                                                value={searchTerm}\n                                                onChange={handleSearchChange}\n                                                placeholder=\"Search in transcript\"\n                                                aria-label=\"Search term\"\n                                            />\n                                            <button\n                                                className=\"btn btn-outline-secondary\"\n                                                onClick={handleSearch}\n                                                type=\"button\"\n                                            >\n                                                <i className=\"bi bi-filter\"></i> Filter\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    <div className=\"card shadow-sm mb-4\">\n                                        <div className=\"card-header bg-light d-flex align-items-center\">\n                                            <i className=\"bi bi-play-btn me-2\"></i>\n                                            <h2 className=\"h5 mb-0\">Video Player</h2>\n                                        </div>\n                                        <div className=\"card-body p-0\">\n                                            <YouTubePlayer videoUrl={videoUrl} />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"card shadow-sm\">\n                                        <div className=\"card-header bg-light d-flex align-items-center\">\n                                            <i className=\"bi bi-chat-quote me-2\"></i>\n                                            <h2 className=\"h5 mb-0\">Transcript</h2>\n                                            <span className=\"badge bg-primary ms-2\">\n                                                {highlightedWords.length > 0 ? 'Filtered' : 'Full'}\n                                            </span>\n                                        </div>\n                                        <div className=\"card-body\">\n                                            <TranscriptDisplay\n                                                transcript={transcript}\n                                                highlightedWords={highlightedWords}\n                                            />\n                                        </div>\n                                    </div>\n                                </>\n                            )}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n// Import Bootstrap CSS and JS\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min.js';\n// Import Bootstrap Icons\nimport 'bootstrap-icons/font/bootstrap-icons.css';\n// Import custom styles after Bootstrap\nimport './styles/App.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}